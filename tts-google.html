<!DOCTYPE html>
<html>
  <head>
    <title>TTS Google &ndash; Micorksen</title>
    <style>body{background-color:rgb(0,0,0)}video{position:absolute;top:0px;right:0px;bottom:0px;left:0px;max-height:100%;max-width:100%;margin:auto}</style>
  </head>
  <body>
    <video controls autoplay muted>
      <source type="audio/mp3" />
    </video>
    <script>const p={},x=new XMLHttpRequest();let s='data:audio/mp3;base64,';window.location.search.replace('?','').split('&').forEach(e=>{const [k,v]=e.split('=');p[k]=decodeURIComponent(v)});x.onreadystatechange=()=>(x.readyState=== 4&&x.status===200?s+=JSON.parse(x.responseText.replace(')]}\'\n',''))['translate_tts'][0]:null);x.open('GET',`https://cors-anywhere.herokuapp.com/https://www.google.com/async/translate_tts?ttsp=tl:${p['lang']||'fr'},txt:${encodeURIComponent(p['text']||'Bonjour!')},spd:${p['speed']||1}&async=_fmt:jspb`);x.send();document.querySelector('source').src=s</script>
  </body>
</html>
